<!--
 * @lanhuage: html
 * @Descripttion: 
 * @version: beta
 * @Author: xiaoshuyui
 * @Date: 2020-11-17 10:10:10
 * @LastEditors: xiaoshuyui
 * @LastEditTime: 2020-11-17 14:04:49
-->
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>Input File Path</title>
    <link href="./static/style.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <!-- <input id="File1" type="file" />
    <input type="button" value="ShowPath" onclick="alert(document.getElementById('File1').value);" /> -->
    <div>
        <input type="file" class="form-control btn-block" placeholder="" readonly id="input_file"
            style="filter:alpha(opacity=0);opacity:0;width: 0;height: 0;">
    </div>
    <div class="fcenter">
        <input type="text" id='File1' class="mytxt" readonly='true'>
        <button type="button" id="open_file1" >Open File</button>
    </div>

    <div class="scenter">
        <input type="text" id='File2' class="mytxt" readonly='true'>
        <button type="button" id="open_file2" >Open File</button>
    </div>

    <div class="lcenter">
        <button type="button" id="check" >Check</button>
    </div>
</body>

<script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
<script src="./js/jquery-3.5.1.min.js"></script>
<script src="./js/callPython.js"></script>
<script>
    $("button#open_file1").click(function () { OpenFile(this); });
    $("button#open_file2").click(function () { OpenFile(this); });
    var file_addr = "";
    function OpenFile(ob) {
        var tn = 0;
        let buttonId = $(ob).attr("id");
        // alert($(ob).attr("id"));
        $("input#input_file").change(function () {
            if (tn == 0) {
                // console.log(this.files[0]);
                file_addr = this.files[0].path;   //Get file absolute path
                // console.log(file_addr);
                if (buttonId.endsWith('1')) {
                    $('input#File1').val(file_addr);
                } else {
                    $('input#File2').val(file_addr);
                }
                this.files[0].path = "";
            }
            tn += 1;
        });
        $("input#input_file").trigger("click");
    }

</script>

</html>